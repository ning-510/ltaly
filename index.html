<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‡®ğŸ‡¹ ç¾©å¤§åˆ©èœœæœˆæ‰‹å¸³ 2025</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #C8553D; /* æ‰˜æ–¯å¡å°¼ç´… */
            --secondary: #588B8B; /* å¨å°¼æ–¯ç¶  */
            --bg: #F2E8CF; /* å¾©å¤ç´™å¼µç±³è‰² */
            --paper: #FFFCF2;
            --text: #2B2D42;
            --accent: #F4A261;
            --font-serif: 'Playfair Display', serif;
            --font-sans: 'Noto Sans TC', sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: var(--font-sans);
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 80px; /* Nav bar space */
            background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23dccca3' fill-opacity='0.4' fill-rule='evenodd'%3E%3Cpath d='M5 0h1v1H5V0zM0 5h1v1H0V5z'/%3E%3C/g%3E%3C/svg%3E");
        }

        /* Header */
        header {
            background: var(--primary);
            color: #fff;
            padding: 20px 15px;
            text-align: center;
            border-bottom: 4px double #fff;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header h1 {
            margin: 0;
            font-family: var(--font-serif);
            font-size: 1.4rem;
            letter-spacing: 1px;
        }

        header p {
            margin: 5px 0 0;
            font-size: 0.8rem;
            opacity: 0.9;
        }

        /* Tabs */
        .content-section {
            display: none;
            padding: 15px;
            animation: fadeIn 0.3s ease;
        }
        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Day Cards */
        .day-card {
            background: var(--paper);
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .day-header {
            background: linear-gradient(to right, #fff, #f9f9f9);
            padding: 15px;
            border-bottom: 1px dashed #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .day-date {
            font-family: var(--font-serif);
            font-weight: bold;
            color: var(--primary);
            font-size: 1.1rem;
        }

        .day-location {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
        }

        .weather-badge {
            font-size: 0.75rem;
            background: #E0E1DD;
            padding: 3px 8px;
            border-radius: 10px;
            color: #555;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .day-content {
            padding: 15px;
            display: none; /* Collapsed by default */
        }
        
        .day-content.open {
            display: block;
        }

        .timeline-item {
            border-left: 2px solid var(--secondary);
            padding-left: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--secondary);
            border-radius: 50%;
            position: absolute;
            left: -6px;
            top: 5px;
        }

        .section-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #999;
            margin-bottom: 5px;
            margin-top: 15px;
        }

        .highlight-tag {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-right: 5px;
        }

        .shop-tag {
            background: #E76F51;
        }

        .scam-alert {
            background: #ffe5e5;
            border: 1px solid #ffcccc;
            color: #cc0000;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            margin-top: 10px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        /* Planner & Wallet */
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
            color: #555;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: var(--font-sans);
            background: #fff;
            font-size: 16px; /* Prevents zoom on iOS */
        }

        button.btn-primary {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 12px;
            width: 100%;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
        }

        .saved-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid var(--accent);
            position: relative;
        }

        .delete-btn {
            position: absolute;
            right: 10px;
            top: 10px;
            color: #aaa;
            cursor: pointer;
        }

        /* Survival Card (Allergy) */
        .survival-card {
            background: #2B2D42;
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
            border: 2px solid var(--accent);
        }
        .it-text {
            font-family: var(--font-serif);
            font-size: 1.2rem;
            margin: 10px 0;
            color: var(--accent);
        }

        /* Nav Bar */
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            padding-bottom: max(10px, env(safe-area-inset-bottom));
        }

        .nav-item {
            text-align: center;
            color: #aaa;
            font-size: 0.7rem;
            cursor: pointer;
            flex: 1;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 2px;
        }

    </style>
</head>
<body>

<header>
    <h1>Winter Honeymoon</h1>
    <p>Italy â€¢ 2025/12/05 - 12/14</p>
</header>

<div id="tab-itinerary" class="content-section active">
    
    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 1 â€¢ 12/05 (äº”)</div>
                <div class="day-location">å°åŒ— âœˆï¸ æœæ‹œ</div>
            </div>
            <div class="weather-badge">âœˆï¸ æ©Ÿä¸Š</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <strong>20:00 é›†åˆ</strong><br>
                æ¡ƒåœ’æ©Ÿå ´ç¬¬äºŒèˆªå»ˆ é˜¿è¯é…‹æ«ƒå°
            </div>
            <div class="timeline-item">
                <strong>23:35 èµ·é£› (EK367)</strong><br>
                é£›è¡Œæ™‚é–“ç´„ 9 å°æ™‚ 55 åˆ†
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>æ™šé¤ï¼šæ©Ÿä¸Šé¤é£Ÿ</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 2 â€¢ 12/06 (å…­)</div>
                <div class="day-location">æœæ‹œ âœˆï¸ ç±³è˜­</div>
            </div>
            <div class="weather-badge">â˜ï¸ 2Â°C~8Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <strong>13:10 æŠµé”ç±³è˜­</strong><br>
                å‰å¾€å¸‚å€è§€å…‰ï¼Œä¸æ‹‰é•·é€”è»Šã€‚
            </div>
            <div class="timeline-item">
                <span class="highlight-tag">å¿…çœ‹</span> <strong>ç±³è˜­å¤§æ•™å ‚ & è‰¾æ›¼ç´äºŒä¸–è¿´å»Š</strong><br>
                ä¸–ç•Œç¬¬ä¸‰å¤§æ•™å ‚ï¼Œå“¥å¾·å¼å»ºç¯‰åœ°æ¨™ã€‚
            </div>
            <div class="scam-alert">
                âš ï¸ <strong>é˜²é¨™æé†’ï¼š</strong> å»£å ´ä¸Šæœ‰ã€Œå¹¸é‹ç¹©é»¨ã€èˆ‡ã€Œé´¿å­é£¼æ–™é»¨ã€ï¼Œè«‹å‹¿è®“é™Œç”Ÿäººå°‡ç¹©å­å¥—åœ¨æ‰‹ä¸Šæˆ–æ¥éç‰ç±³ç²’ï¼Œæœƒè¢«å¼·ç´¢è²»ç”¨ã€‚
            </div>
            <div class="timeline-item">
                <span class="highlight-tag shop-tag">è³¼ç‰©</span> <strong>æ–‡è—å¾©èˆˆç™¾è²¨</strong><br>
                æ¨è–¦è³¼è²·ï¼šKIKOå½©å¦ (ç±³è˜­å“ç‰Œ)ã€Bialetti æ‘©å¡å£ºã€‚
            </div>
            <p class="section-title">ä½å®¿</p>
            <p>UNAHOTELS Malpensa (ç±³è˜­)</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 3 â€¢ 12/07 (æ—¥)</div>
                <div class="day-location">ç±³è˜­ â ç¶­æ´›ç´</div>
            </div>
            <div class="weather-badge">ğŸŒ¤ï¸ 3Â°C~9Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <span class="highlight-tag">çµ•ç¾</span> <strong>é¦¬ç„¦é›·æ¹– (Lake Maggiore)</strong><br>
                ç¾©å¤§åˆ©ç¬¬äºŒå¤§æ¹–ï¼Œç‰¹åˆ¥å®‰æ’éŠèˆ¹é«”é©—æ¹–å…‰å±±è‰²ã€‚
            </div>
            <div class="timeline-item">
                <strong>ç¶­æ´›ç´ (Verona)</strong><br>
                èå£«æ¯”äºã€Šç¾…å¯†æ­èˆ‡èŒ±éº—è‘‰ã€‹æ•…é„‰ã€‚åƒè§€åœ“å½¢ç«¶æŠ€å ´(å¤–è§€)ã€‚
            </div>
            <div class="timeline-item">
                <span class="highlight-tag">èœœæœˆ</span> <strong>èŒ±éº—è‘‰ä¹‹å®¶</strong><br>
                è¨˜å¾—å»æ‘¸éŠ…åƒçš„å³èƒ¸è¨±é¡˜æ„›æƒ…é•·ä¹…ï¼ˆé›–ç„¶äººå¾ˆå¤šï¼ï¼‰ã€‚
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>åˆï¼šè¥¿å¼é¢¨å‘³ / æ™šï¼šç™¾å¹´æ•™å ‚æŠ«è–©é¢¨å‘³</p>
            <p class="section-title">ä½å®¿</p>
            <p>Best Western CTC Hotel Verona</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 4 â€¢ 12/08 (ä¸€)</div>
                <div class="day-location">å¨å°¼æ–¯ (Venice)</div>
            </div>
            <div class="weather-badge">ğŸŒ«ï¸ 1Â°C~7Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <span class="highlight-tag">é«”é©—</span> <strong>è²¢å¤šæ‹‰éŠèˆ¹ (Gondola)</strong><br>
                5äººä¸€è‰˜ï¼Œç©¿æ¢­æ°´å··ã€‚*å¤©æ°£å†·ï¼Œæ­èˆ¹è«‹æˆ´å¸½å­åœå·¾ã€‚
            </div>
            <div class="timeline-item">
                <strong>è–é¦¬å¯å»£å ´ & å··å¼„æ•£ç­–</strong><br>
                åŒ…å«é‡Œé˜¿çˆ¾æ‰˜æ©‹ã€‚
            </div>
            <div class="timeline-item">
                <span class="highlight-tag shop-tag">è‡ªç”±æ™‚é–“</span> <strong>å–®é£›æ™‚å…‰</strong><br>
                æ¨è–¦ï¼šCaffÃ¨ Florian (ä¸–ç•Œæœ€è€å’–å•¡é¤¨ï¼Œç¨è²´ä½†æ°£æ°›å¥½)ã€‚<br>
                ä¼´æ‰‹ç¦®ï¼šå¨å°¼æ–¯é¢å…· (æ‰¾Papier MÃ¢chÃ©æè³ª)ã€ç»ç’ƒè£½å“(éœ€æœ‰Muranoèªè­‰)ã€‚
            </div>
            <div class="scam-alert">
                âš ï¸ <strong>æ³¨æ„ï¼š</strong> å¨å°¼æ–¯ç¦æ­¢åœ¨æ©‹ä¸Šæ‹–è¡Œå¤§å‹è¡Œæã€‚å°å¿ƒæ©‹ä¸Šæ‰’æ‰‹ã€‚
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>åˆï¼šå¢¨é­šéºµä½ç‚¸æµ·é®® / æ™šï¼šè‡ªç† (æ¨è–¦å˜—è©¦ CichÃ¨ti å°é£Ÿ)</p>
            <p class="section-title">ä½å®¿</p>
            <p>Crowne Plaza Padova</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 5 â€¢ 12/09 (äºŒ)</div>
                <div class="day-location">ä½›ç¾…å€«æ–¯</div>
            </div>
            <div class="weather-badge">ğŸŒ¤ï¸ 2Â°C~11Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <strong>å¸‚å€è§€å…‰</strong><br>
                è–æ¯ç™¾èŠ±å¤§æ•™å ‚ã€é ˜ä¸»å»£å ´ã€‚æ–‡è—å¾©èˆˆç™¼æºåœ°ã€‚
            </div>
            <div class="timeline-item">
                <span class="highlight-tag shop-tag">å¿…è²·</span> <strong>è•¾è‰æ­ (L'Erbolario)</strong><br>
                ç™¾èŠ±å¤§æ•™å ‚æ—æœ‰å°ˆè³£åº—ï¼Œåƒ¹æ ¼ç´„å°ç£3-5æŠ˜ã€‚
            </div>
             <div class="timeline-item">
                <span class="highlight-tag shop-tag">çš®ä»¶</span> <strong>Santa Croce å€</strong><br>
                ä½›ç¾…å€«æ–¯ä»¥çš®ä»¶èåï¼Œè‹¥è¦è²·çœŸçš®æ‰‹å¥—/åŒ…åŒ…å¯åœ¨æ­¤å°‹å¯¶ã€‚
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>åˆï¼šä¸éª¨ç‰›æ’ä½ç´…é…’ (ä¸åƒç‰›è«‹æå‰å‘ŠçŸ¥é ˜éšŠ) / æ™šï¼šä¸­å¼æ–™ç†</p>
            <p class="section-title">ä½å®¿</p>
            <p>Grand Hotel Croce Di Malta</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 6 â€¢ 12/10 (ä¸‰)</div>
                <div class="day-location">äº”æ¼æ‘ & æ¯”è–©</div>
            </div>
            <div class="weather-badge">ğŸŒŠ 5Â°C~12Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <strong>äº”æ¼æ‘ (Cinque Terre)</strong><br>
                æ­ç«è»Šé€²å…¥ï¼Œæ‹œè¨ªå…¶ä¸­å…©å€‹æ‘è½ã€‚æ‡¸å´–é‚Šçš„å½©è‰²å°å±‹ã€‚
            </div>
            <div class="timeline-item">
                <strong>æ¯”è–©æ–œå¡” (Pisa)</strong><br>
                å¥‡è¹Ÿå»£å ´å»ºç¯‰ç¾¤ã€‚å¿…æ‹æ¨å¡”å€Ÿä½ç…§ã€‚
            </div>
            <div class="scam-alert">
                âš ï¸ <strong>æ¯”è–©æé†’ï¼š</strong> æ”¤è²©å‘¨é‚Šæ‰’æ‰‹æ¥µå¤šï¼Œæ‹ç…§æ™‚åŒ…åŒ…å‹™å¿…èƒŒåœ¨èƒ¸å‰ã€‚
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>åˆï¼šè‡ªç† (å¯è²·ç‚¸æµ·é®®ç”œç­’) / æ™šï¼šä¸­å¼æ–™ç†</p>
            <p class="section-title">ä½å®¿</p>
            <p>AC Hotel Pisa</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 7 â€¢ 12/11 (å››)</div>
                <div class="day-location">æ‰˜æ–¯å¡å°¼ â ç¾…é¦¬</div>
            </div>
            <div class="weather-badge">ğŸ‡ 3Â°C~10Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <span class="highlight-tag">å¾®é†º</span> <strong>é…’èŠå“é…’ (Winery)</strong><br>
                Montepulciano åœ°å€ï¼Œå“åšèˆ‰ä¸–èåçš„ç´…é…’ã€‚
            </div>
            <div class="timeline-item">
                <strong>çš®æ©è–© (Pienza)</strong><br>
                æ•™å®—çš„ç†æƒ³åŸï¼Œä¹Ÿæ˜¯ã€Œèµ·å¸ä¹‹åŸã€(Pecorino Cheese)ã€‚
            </div>
            <div class="timeline-item">
                <strong>å‰å¾€ç¾…é¦¬</strong>
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>åˆï¼šè¥¿å¼é¢¨å‘³ / æ™šï¼šä¸­å¼æ–™ç†</p>
            <p class="section-title">ä½å®¿</p>
            <p>Warmthotel Rome (é€£ä½å…©æ™š)</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 8 â€¢ 12/12 (äº”)</div>
                <div class="day-location">ç¾…é¦¬ (Rome)</div>
            </div>
            <div class="weather-badge">ğŸ›ï¸ 5Â°C~13Â°C</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <strong>è–å½¼å¾—å¤§æ•™å ‚ (æ¢µè’‚å²¡)</strong><br>
                *æ³¨æ„æœè£ï¼šä¸å¯ç©¿ç„¡è¢–ã€çŸ­è£™(å†¬å¤©æ‡‰è©²é‚„å¥½)ã€‚
            </div>
            <div class="timeline-item">
                <span class="highlight-tag">è´ˆé€</span> <strong>é‡‘æ¯å’–å•¡ (Tazza d'Oro)</strong><br>
                å°±åœ¨è¬ç¥æ®¿æ—ã€‚å¿…è²·ï¼šå’–å•¡è±† (La Regina)ã€å’–å•¡è±†å·§å…‹åŠ›ã€‚
            </div>
            <div class="timeline-item">
                <strong>å¸‚å€è§€å…‰</strong><br>
                è¨±é¡˜æ±  (èƒŒå°ä¸Ÿç¡¬å¹£)ã€è¥¿ç­ç‰™å»£å ´ (ç¾…é¦¬å‡æœŸå ´æ™¯)ã€é¬¥ç¸å ´ (å¤–è§€)ã€‚
            </div>
             <div class="scam-alert">
                âš ï¸ <strong>ç¾…é¦¬ä¸‰å¤§é¨™ï¼š</strong> 1.æ‰‹ç’°é»¨ 2.è£æˆå¤ç¾…é¦¬å£«å…µå¼·è¿«åˆç…§æ”¶è²» 3.å‡å¥½å¿ƒå¹«ä½ è²·åœ°éµç¥¨ã€‚
            </div>
            <p class="section-title">é¤é£Ÿ</p>
            <p>åˆï¼šä¸­å¼æ–™ç† / æ™šï¼šç¾…é¦¬å°ç¾”ç¾Šé¢¨å‘³</p>
        </div>
    </div>

    <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 9 â€¢ 12/13 (å…­)</div>
                <div class="day-location">ç¾…é¦¬ âœˆï¸ æœæ‹œ</div>
            </div>
            <div class="weather-badge">ğŸ›ï¸ æœ€å¾Œè¡åˆº</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <span class="highlight-tag shop-tag">Outlet</span> <strong>Castel Romano Outlet</strong><br>
                ç™»æ©Ÿå‰çš„æœ€å¾Œè³¼ç‰©ï¼ŒåŒ…å« Burberry, Valentino, Ferragamo ç­‰ã€‚
            </div>
            <div class="timeline-item">
                <strong>14:55 èµ·é£› (EK098)</strong><br>
                å‰å¾€æœæ‹œè½‰æ©Ÿã€‚
            </div>
            <p class="section-title">é€€ç¨…æé†’</p>
            <p>è«‹å°‡é€€ç¨…å•†å“æ”¾åœ¨å¥½æ‹¿çš„åœ°æ–¹ï¼ˆå¯èƒ½éœ€æµ·é—œæª¢æŸ¥ï¼‰ã€‚å–®ç­†æ»¿155æ­å…ƒå¯é€€ç¨…ã€‚</p>
        </div>
    </div>

     <div class="day-card" onclick="toggleDay(this)">
        <div class="day-header">
            <div>
                <div class="day-date">Day 10 â€¢ 12/14 (æ—¥)</div>
                <div class="day-location">æœæ‹œ âœˆï¸ å°åŒ—</div>
            </div>
            <div class="weather-badge">ğŸ  æº«æš–çš„å®¶</div>
        </div>
        <div class="day-content">
            <div class="timeline-item">
                <strong>15:35 æŠµé”æ¡ƒåœ’</strong><br>
                å¸¶è‘—æ»¿æ»¿çš„å›æ†¶èˆ‡æˆ°åˆ©å“å›å®¶ã€‚
            </div>
        </div>
    </div>
</div>

<div id="tab-planner" class="content-section">
    <h2 style="font-family: var(--font-serif); color: var(--primary);">My Planner</h2>
    <p style="font-size:0.9rem; color:#666;">è¨˜éŒ„æƒ³å»çš„è‡ªç”±è¡Œæ™¯é»æˆ–é¤å»³</p>
    
    <div class="day-card" style="padding:15px;">
        <div class="input-group">
            <label>å€åŸŸ (å¦‚: ç±³è˜­, å¨å°¼æ–¯)</label>
            <select id="plan-area">
                <option value="ç±³è˜­">ç±³è˜­ (Milan)</option>
                <option value="å¨å°¼æ–¯">å¨å°¼æ–¯ (Venice)</option>
                <option value="ä½›ç¾…å€«æ–¯">ä½›ç¾…å€«æ–¯ (Florence)</option>
                <option value="ç¾…é¦¬">ç¾…é¦¬ (Rome)</option>
                <option value="å…¶ä»–">å…¶ä»–</option>
            </select>
        </div>
        <div class="input-group">
            <label>åœ°é»åç¨±</label>
            <input type="text" id="plan-name" placeholder="ä¾‹å¦‚: è€æ©‹, æŸæŸé¤å»³">
        </div>
        <div class="input-group">
            <label>å‚™è¨» / Google Map é€£çµ</label>
            <textarea id="plan-note" rows="2" placeholder="è²¼ä¸Šç¶²å€æˆ–ç­†è¨˜..."></textarea>
        </div>
        <button class="btn-primary" onclick="addPlan()">åŠ å…¥æ¸…å–®</button>
    </div>

    <div id="plan-list">
        </div>
</div>

<div id="tab-wallet" class="content-section">
    <h2 style="font-family: var(--font-serif); color: var(--primary);">Tools & Guide</h2>
    
    <div class="survival-card">
        <h3>ğŸš¨ éæ•æºé€šå¡</h3>
        <p>é»é¤æ™‚è«‹å‡ºç¤ºæ­¤ç•«é¢çµ¦æœå‹™ç”Ÿ</p>
        <hr style="border:0.5px solid #555; margin: 15px 0;">
        <p class="it-text">"Sono allergica al grano, alle uova e ai latticini."</p>
        <p>(æˆ‘å°å°éº¥ã€é›è›‹å’Œä¹³è£½å“éæ•)</p>
        <p style="font-size: 0.9rem; margin-top:10px; color:#F4A261;">
            Senza Glutine (ç„¡éº©è³ª)<br>
            Senza Uova (ç„¡è›‹)<br>
            Senza Latticini (ç„¡å¥¶)
        </p>
    </div>

    <div class="day-card" style="padding:15px;">
        <h3>ğŸ’° è¨˜å¸³å°å¹«æ‰‹</h3>
        <p style="font-size:0.9rem; margin-bottom:15px;">
            å»ºç«‹ä¸€å€‹ Google Form (åŒ…å«: é‡‘é¡, å¹£åˆ¥, é¡åˆ¥, å“é …)ï¼Œå°‡é€£çµè²¼åœ¨ä¸‹æ–¹å³å¯å¿«é€Ÿè¨˜å¸³ã€‚
        </p>
        <div class="input-group">
            <input type="text" id="sheet-url" placeholder="è²¼ä¸Šæ‚¨çš„ Google Form é€£çµ">
        </div>
        <button class="btn-primary" onclick="openExpense()">è¨˜ä¸€ç­†</button>
    </div>

    <div class="day-card" style="padding:15px;">
        <h3>ğŸ›ï¸ å¿…è²·æ¸…å–®</h3>
        <ul style="padding-left: 20px; line-height: 1.6;">
            <li><strong>è¶…å¸‚å¥½ç‰©ï¼š</strong>Pocket Coffee (çˆ†æ¼¿å’–å•¡å·§å…‹åŠ›)ã€Baci å·§å…‹åŠ›ã€Marvis ç‰™è†ã€Balsamic Vinegar (ç´…é…’é†‹)ã€‚</li>
            <li><strong>ä½›ç¾…å€«æ–¯ï¼š</strong>çš®ä»¶ (æ‰‹å¥—ã€çš®å¤¾)ã€è•¾è‰æ­ (L'Erbolario)ã€‚</li>
            <li><strong>ç¾…é¦¬ï¼š</strong>é‡‘æ¯å’–å•¡è±† (Chicchi di caffÃ¨)ã€é‡‘æ¯å·§å…‹åŠ›ã€‚</li>
            <li><strong>å¨å°¼æ–¯ï¼š</strong>å½©è‰²å³¶è•¾çµ²ã€Murano ç»ç’ƒã€‚</li>
        </ul>
    </div>
</div>

<div class="nav-bar">
    <div class="nav-item active" onclick="switchTab('itinerary', this)">
        <span class="nav-icon">ğŸ“…</span>
        è¡Œç¨‹
    </div>
    <div class="nav-item" onclick="switchTab('planner', this)">
        <span class="nav-icon">ğŸ“</span>
        è‡ªç”±è¡Œ
    </div>
    <div class="nav-item" onclick="switchTab('wallet', this)">
        <span class="nav-icon">ğŸ§³</span>
        ç™¾å¯¶ç®±
    </div>
</div>

<script>
    // Tab Switching
    function switchTab(tabId, navElement) {
        document.querySelectorAll('.content-section').forEach(el => el.classList.remove('active'));
        document.getElementById('tab-' + tabId).classList.add('active');
        
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        navElement.classList.add('active');
    }

    // Toggle Day Details
    function toggleDay(card) {
        const content = card.querySelector('.day-content');
        if (content.style.display === "block") {
            content.style.display = "none";
        } else {
            content.style.display = "block";
        }
    }

    // Planner Logic (Local Storage)
    function loadPlans() {
        const plans = JSON.parse(localStorage.getItem('italy_plans') || '[]');
        const container = document.getElementById('plan-list');
        container.innerHTML = '';
        
        if (plans.length === 0) {
            container.innerHTML = '<p style="text-align:center; color:#999; margin-top:20px;">å°šç„¡è¡Œç¨‹ï¼Œå¿«ä¾†æ–°å¢å§ï¼</p>';
            return;
        }

        plans.forEach((plan, index) => {
            const div = document.createElement('div');
            div.className = 'saved-item';
            
            // Check if note is a URL
            let noteDisplay = plan.note;
            if(plan.note.includes('http')) {
                noteDisplay = `<a href="${plan.note}" target="_blank" style="color:var(--primary);">é–‹å•Ÿé€£çµ/åœ°åœ–</a>`;
            }

            div.innerHTML = `
                <div class="delete-btn" onclick="deletePlan(${index})">âœ•</div>
                <div style="font-weight:bold; color:var(--primary);">${plan.area}</div>
                <div style="font-size:1.1rem; margin:5px 0;">${plan.name}</div>
                <div style="font-size:0.9rem; color:#666;">${noteDisplay}</div>
            `;
            container.appendChild(div);
        });
    }

    function addPlan() {
        const area = document.getElementById('plan-area').value;
        const name = document.getElementById('plan-name').value;
        const note = document.getElementById('plan-note').value;

        if (!name) {
            alert('è«‹è¼¸å…¥åœ°é»åç¨±');
            return;
        }

        const plans = JSON.parse(localStorage.getItem('italy_plans') || '[]');
        plans.push({ area, name, note });
        localStorage.setItem('italy_plans', JSON.stringify(plans));
        
        document.getElementById('plan-name').value = '';
        document.getElementById('plan-note').value = '';
        loadPlans();
    }

    function deletePlan(index) {
        if(confirm('ç¢ºå®šåˆªé™¤æ­¤è¡Œç¨‹ï¼Ÿ')) {
            const plans = JSON.parse(localStorage.getItem('italy_plans') || '[]');
            plans.splice(index, 1);
            localStorage.setItem('italy_plans', JSON.stringify(plans));
            loadPlans();
        }
    }

    // Expense Logic
    function openExpense() {
        let url = document.getElementById('sheet-url').value;
        if (!url) {
            // Check local storage for previously saved URL
            url = localStorage.getItem('expense_url');
        }

        if (!url) {
            alert('è«‹å…ˆè²¼ä¸Šæ‚¨çš„ Google Form æˆ– Sheet é€£çµï¼');
            return;
        }

        // Save for next time
        localStorage.setItem('expense_url', url);
        window.open(url, '_blank');
    }

    // Init
    document.addEventListener('DOMContentLoaded', () => {
        loadPlans();
        const savedUrl = localStorage.getItem('expense_url');
        if(savedUrl) {
            document.getElementById('sheet-url').value = savedUrl;
        }
    });
</script>

</body>
</html>
